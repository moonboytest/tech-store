<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smartphone Orion X5</title>
    <link rel="icon" href="../img/circuitry.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="../css/styles.css" />
  </head>
  <body>
    <header>
      <div class="container header-wrapper">
        <div class="logo">
          <img src="../img/circuitry.svg" alt="logo" class="logo" />
          <a href="../index.html"><p>Tech Store</p></a>
        </div>
        <nav class="nav">
          <ul class="nav-list">
            <li><a href="../catalog.html">Каталог</a></li>
            <li><a href="../contacts.html">Обратная связь</a></li>
            <li class="cart-link">
              <a href="../cart.html">Корзина</a>
              <span id="cart-count" class="cart-count">0</span>
            </li>
          </ul>
        </nav>
      </div>
    </header>
    <main>
      <div class="container product-page">
        <h1>Orion X5</h1>
        <div class="product-detail">
          <a href="#zoom">
            <img
              src="../img/catalog/phones/phone-2-1.avif"
              alt="Smartphone Orion X5"
            />
          </a>
          <div class="product-info">
            <div class="product-price-box">
              <div class="product-price">29 990 ₽</div>
              <a href="#" class="button">Добавить в корзину</a>
            </div>
            <p class="product-description">
              Универсальный смартфон для повседневных задач. Яркий дисплей,
              двойная камера и надёжная батарея обеспечат комфорт в работе и
              развлечениях.
            </p>

            <ul class="product-specs">
              <li><strong>Диагональ экрана:</strong> 6.3 дюйма</li>
              <li><strong>Разрешение:</strong> 2340×1080 пикселей</li>
              <li><strong>Процессор:</strong> 6-ядерный</li>
              <li><strong>Оперативная память:</strong> 4 ГБ</li>
              <li><strong>Встроенная память:</strong> 64 ГБ (слот microSD)</li>
              <li><strong>Аккумулятор:</strong> 4000 мАч</li>
              <li>
                <strong>Камера:</strong> основная 24 Мп + фронтальная 8 Мп
              </li>
              <li>
                <strong>Интерфейсы:</strong> USB-C, 4G LTE, Wi-Fi 4, Bluetooth
                4.2
              </li>
            </ul>
          </div>
        </div>
      </div>
      <a href="#" id="zoom"
        ><img
          src="../img/catalog/phones/phone-2-1.avif"
          alt="Smartphone Orion X5"
      /></a>
    </main>
    <footer>
      <div class="container footer-wrapper">
        <p>&copy; 2025 Tech Store. Все права защещены.</p>
        <ul class="footer-links">
          <li>
            <img src="../img/envelope.svg" alt="mail-icon" class="icon" />
            <a href="mailto:info@techstore.ru">info@techstore.ru</a>
          </li>
          <li>
            <img src="../img/phone-call.svg" alt="phone-icon" class="icon" />
            <a href="tel:+79101779392">+7 (910)177-93-92</a>
          </li>
        </ul>
      </div>
    </footer>
    <script src="../js/cart-count.js"></script>
    <script src="../js/notification.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const button = document.querySelector(".button");

        if (button) {
          button.addEventListener("click", (e) => {
            e.preventDefault();

            const name = document.querySelector("h1").innerText;
            const price = parseInt(
              document
                .querySelector(".product-price")
                .innerText.replace(/\D/g, "")
            );
            const img = document
              .querySelector(".product-detail img")
              .getAttribute("src");
            const link = window.location.pathname;

            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            const existing = cart.find((item) => item.name === name);
            if (existing) {
              existing.quantity += 1;
            } else {
              cart.push({ name, price, quantity: 1, img, link });
            }

            localStorage.setItem("cart", JSON.stringify(cart));
            showNotification(`«${name}» добавлен в корзину!`);
          });
        }
      });
    </script>
  </body>
</html>
